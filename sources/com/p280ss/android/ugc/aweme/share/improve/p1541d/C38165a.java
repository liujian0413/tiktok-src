package com.p280ss.android.ugc.aweme.share.improve.p1541d;

import android.app.Activity;
import com.bytedance.ies.abmock.C6384b;
import com.bytedance.ies.ugc.appcontext.C6399b;
import com.p280ss.android.ugc.aweme.C6903bc;
import com.p280ss.android.ugc.aweme.share.C37983ao;
import com.p280ss.android.ugc.aweme.share.improve.C38140b;
import com.p280ss.android.ugc.aweme.share.improve.expr.WhatsappStatusExperiment;
import com.p280ss.android.ugc.aweme.share.improve.p1539b.C38142a;
import com.p280ss.android.ugc.aweme.share.improve.p1540c.C38159c;
import com.p280ss.android.ugc.aweme.share.improve.p1542e.C38172b;
import com.p280ss.android.ugc.aweme.share.p1533d.C38025a;
import com.p280ss.android.ugc.aweme.sharer.C38343b;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38291a;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38293b;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38295c;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38297d;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38299e;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38303g;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38305h;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38307i;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38309j;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38311k;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38313l;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38315m;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38317n;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38319o;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38321p;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38323q;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38325r;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38327s;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38329t;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38331u;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38333v;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38335w;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38337x;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38339y;
import com.p280ss.android.ugc.aweme.sharer.p1544a.C38341z;
import com.p280ss.android.ugc.aweme.sharer.p1545b.C38345a;
import com.p280ss.android.ugc.aweme.sharer.p338ui.C38380c.C38382b;
import com.p280ss.android.ugc.aweme.sharer.p338ui.C38389f;
import com.zhiliaoapp.musically.df_live_zego_link.R;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Comparator;
import java.util.List;
import kotlin.C7541d;
import kotlin.C7546e;
import kotlin.collections.C7525m;
import kotlin.jvm.internal.C7571f;
import kotlin.jvm.internal.C7573i;
import kotlin.jvm.internal.C7575l;
import kotlin.jvm.internal.Lambda;
import kotlin.jvm.internal.PropertyReference1;
import kotlin.jvm.internal.PropertyReference1Impl;
import kotlin.jvm.p357a.C7561a;
import kotlin.jvm.p357a.C7562b;
import kotlin.reflect.C7595j;

/* renamed from: com.ss.android.ugc.aweme.share.improve.d.a */
public final class C38165a {

    /* renamed from: a */
    public static final C7541d f99286a = C7546e.m23569a(C38169b.f99291a);

    /* renamed from: b */
    public static final C38166a f99287b = new C38166a(null);

    /* renamed from: com.ss.android.ugc.aweme.share.improve.d.a$a */
    public static final class C38166a {

        /* renamed from: a */
        static final /* synthetic */ C7595j[] f99288a = {C7575l.m23602a((PropertyReference1) new PropertyReference1Impl(C7575l.m23595a(C38166a.class), "serverControlPlatform", "getServerControlPlatform()Ljava/util/List;"))};

        /* renamed from: com.ss.android.ugc.aweme.share.improve.d.a$a$a */
        static final class C38167a extends Lambda implements C7562b<C38343b, Boolean> {

            /* renamed from: a */
            public static final C38167a f99289a = new C38167a();

            C38167a() {
                super(1);
            }

            public final /* synthetic */ Object invoke(Object obj) {
                return Boolean.valueOf(m121924a((C38343b) obj));
            }

            /* renamed from: a */
            private static boolean m121924a(C38343b bVar) {
                C7573i.m23587b(bVar, "it");
                if (C38166a.m121921a().isEmpty()) {
                    return true;
                }
                return C38166a.m121921a().contains(bVar.mo95739b());
            }
        }

        /* renamed from: com.ss.android.ugc.aweme.share.improve.d.a$a$b */
        public static final class C38168b implements C38345a {

            /* renamed from: a */
            final /* synthetic */ Activity f99290a;

            /* renamed from: a */
            public final Activity mo63025a() {
                return this.f99290a;
            }

            C38168b(Activity activity) {
                this.f99290a = activity;
            }
        }

        private C38166a() {
        }

        /* renamed from: a */
        public static List<String> m121921a() {
            return (List) C38165a.f99286a.getValue();
        }

        public /* synthetic */ C38166a(C7571f fVar) {
            this();
        }

        /* renamed from: a */
        public static void m121923a(C38382b bVar, boolean z, Activity activity) {
            C7573i.m23587b(bVar, "builder");
            C38345a bVar2 = new C38168b(activity);
            C38382b a = bVar.mo95963a((C38343b) new C38327s()).mo95963a((C38343b) new C38307i()).mo95963a((C38343b) new C38309j()).mo95963a((C38343b) new C38297d(bVar2)).mo95963a((C38343b) new C38299e()).mo95963a((C38343b) new C38317n(bVar2)).mo95963a((C38343b) new C38319o()).mo95963a((C38343b) new C38325r()).mo95963a((C38343b) new C38331u()).mo95963a((C38343b) new C38333v()).mo95963a((C38343b) new C38335w()).mo95963a((C38343b) new C38337x());
            if (!z) {
                switch (C6384b.m19835a().mo15287a(WhatsappStatusExperiment.class, true, "whatsapp_status_share_policy", C6384b.m19835a().mo15295d().whatsapp_status_share_policy, 0)) {
                    case 1:
                        a.mo95963a((C38343b) new C38339y(new C38337x().mo95736a()));
                        break;
                    case 2:
                        a.mo95963a((C38343b) new C38339y(R.drawable.aul));
                        break;
                }
            }
            a.mo95963a((C38343b) new C38315m()).mo95963a((C38343b) new C38291a("www.tiktokv.com")).mo95963a((C38343b) new C38293b()).mo95963a((C38343b) new C38295c()).mo95963a((C38343b) new C38303g()).mo95963a((C38343b) new C38305h()).mo95963a((C38343b) new C38311k()).mo95963a((C38343b) new C38313l()).mo95963a((C38343b) new C38321p()).mo95963a((C38343b) new C38323q()).mo95963a((C38343b) new C38341z()).mo95977b(true).mo95962a((int) R.string.dt3).mo95975b((int) R.string.w_).mo95971a(true).mo95969a((Comparator<C38389f>) new C38140b<C38389f>()).mo95976b((Comparator<C38343b>) new C38172b<C38343b>(2)).mo95970a((C7562b<? super C38343b, Boolean>) C38167a.f99289a);
            if (z) {
                bVar.mo95968a("instagram").mo95968a("instagram_story").mo95968a("snapchat");
            }
            if (C6399b.m19947w()) {
                bVar.mo95968a("vk");
            }
            if (!C6903bc.m21488g().mo80287b()) {
                bVar.mo95968a("chat_merge");
            }
            if (!z) {
                bVar.mo95963a((C38343b) new C38142a());
            }
            String string = C38159c.m121910a().getString(R.string.bfc);
            C7573i.m23582a((Object) string, "chaosContext().getStringâ€¦string.i18n_share_system)");
            bVar.mo95963a((C38343b) new C38329t(string));
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.share.improve.d.a$b */
    static final class C38169b extends Lambda implements C7561a<List<? extends String>> {

        /* renamed from: a */
        public static final C38169b f99291a = new C38169b();

        C38169b() {
            super(0);
        }

        public final /* synthetic */ Object invoke() {
            return m121926a();
        }

        /* renamed from: a */
        private static List<String> m121926a() {
            C38025a a = C38025a.m121371a();
            C7573i.m23582a((Object) a, "I18nShareOrderUtil.getInstance()");
            List<C37983ao> list = a.f98975a;
            if (list == null) {
                return C7525m.m23461a();
            }
            Iterable<C37983ao> iterable = list;
            Collection arrayList = new ArrayList(C7525m.m23469a(iterable, 10));
            for (C37983ao aoVar : iterable) {
                C7573i.m23582a((Object) aoVar, "it");
                arrayList.add(aoVar.f98894a);
            }
            return (List) arrayList;
        }
    }
}
